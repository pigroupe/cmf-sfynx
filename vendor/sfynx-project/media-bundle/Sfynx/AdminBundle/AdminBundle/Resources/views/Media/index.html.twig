{% extends 'AppAdminBundle:Layout:admin_layout.html.twig' %}
{% block body %}
   <section class="site-min-height">
       <!-- page start-->
       <section class="panel">
           <header class="panel-heading">
               Liste des Médias
           </header>
           <div class="panel-body">
               <div class="adv-table editable-table">
                   <div class="clearfix">
                     <a href="{{ path('media_new') }}">
                      <div class="btn-group">
                          <button  class="btn green">
                              Ajouter un nouveau média <i class="fa fa-plus"></i>
                          </button>
                      </div>
                     </a>

                    <div class="btn-group pull-right">
                        <button class="btn dropdown-toggle" data-toggle="dropdown">Actions <i class="fa fa-angle-down"></i>
                        </button>
                        <ul class="dropdown-menu pull-right">
                            <li><a href="{{ path('croping') }}">Formats de croping</a></li>
                        </ul>
                    </div>
                   </div>
                   <br>

                   <div class="space15"></div>
                   <table class="table table-striped table-hover table-bordered" id="editable-sample">
                       <thead>
                       <tr>
                          <th>Id</th>
                          <th>Type média</th>
                          <th>Libellé</th>
                          <th>Chemin</th>
                          <th>Apercu</th>
                          <th>Actions</th>
                       </tr>
                       </thead>
                       <tbody>
                        {% for entity in entities %}
                          <tr>
                              <td><a href="{{ path('media_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
                              <td>{{ entity.type }}</td>
                              <td>{{ entity.libelle }}</td>
                              <td>{{ entity.file }}</td>
                              <td><img src="{{ asset(sDirePath ~ entity.path ~ '.' ~ entity.extension)  }}" width="50" height="50" /></td>
                              <td class="center">
                                 <div class="hidden-phon">
                                    <a class="btn btn-primary btn-sm" href="{{ path('media_edit', { 'id': entity.id }) }}"><i class="fa fa-pencil"></i></a>
                                   <a class="btn btn-danger btn-sm" onclick="confirmbox('{{ path('media', { 'iId': entity.id}) }})"><i class="fa fa-trash-o "></i></a>
                                 </div>
                              </td>
                          </tr>
                        {% endfor %}
                       </tbody>
                   </table>
               </div>
           </div>
       </section>
       <!-- page end-->
   </section>
                        
{% endblock %}

{% block javascripts %}
   <script src="{{ asset('bundles/appadmin/js/jquery-1.8.3.min.js') }}" ></script>
   <script src="{{ asset('bundles/appadmin/js/bootstrap.min.js') }}" ></script>
   <script class="include" type="text/javascript" src="{{ asset('bundles/appadmin/js/jquery.dcjqaccordion.2.7.js') }}" ></script>
   <script src="{{ asset('bundles/appadmin/js/jquery.scrollTo.min.js') }}" ></script>
   <script src="{{ asset('bundles/appadmin/js/jquery.nicescroll.js') }}" ></script>
   <script src="{{ asset('bundles/appadmin/js/assets/data-tables/jquery.dataTables.js') }}" ></script>
   <script src="{{ asset('bundles/appadmin/js/assets/data-tables/DT_bootstrap.js') }}" ></script>
   <script src="{{ asset('bundles/appadmin/js/common-scripts.js') }}" ></script>
                                           
   <script src="{{ asset('bundles/appadmin/js/editable-table.js') }}" ></script>
   <script>
       jQuery(document).ready(function() {
           EditableTable.init();
       });
   </script>
{% endblock %}